function sendSms(t,i,n){jQuery.get("/api/lead/new",{},function(e){sendSmsWithToken(t,i,n,e)},"json")}function sendSmsWithToken(e,t,i,n){jQuery.post("/api/lead/sms/"+n.token,{Phone:e,LeadSource:198,LeadType:5,MessageLink:t,Comments:"; ; Coupon: "+i+";"})}function removeHiddenAndReindexIndicators(n){document.querySelectorAll('[id^="carousel-"]').forEach(e=>{var t,i=e.querySelectorAll(`.carousel-indicators .${n}`);0<i.length&&(i.forEach(e=>{e.remove()}),t=0,(i=e.querySelector(".carousel-indicators")).querySelectorAll("li:not(.slide-indicator--basic)").forEach(e=>{$(e).attr("data-slide-to",t),$(e).text(t+1),t++}),t=0,i.querySelectorAll("li.slide-indicator--basic").forEach(function(e){$(e).attr("data-slide-to",t),t++})),hideShowCarouselNavigation(e)})}function addSlideNumber(){document.querySelectorAll('[id^="carousel"]').forEach(e=>{for(var t=e.querySelectorAll(".carousel-inner .banner-slide"),i=0;i<t.length;i++)t[i].setAttribute("aria-label",`carousel slide number ${i+1} of ${t.length}`)})}function hideShowCarouselNavigation(e){var t=e.querySelector(".carousel-navigation-controls"),i=e.querySelector(".carousel-indicators"),n=e.querySelector(".carousel-controls"),r=e.querySelectorAll(".carousel-inner .item"),e=e.querySelector("slideChangeReader-CorporateCell");1<r.length?(t?.removeAttribute("hidden"),i?.removeAttribute("hidden"),n?.removeAttribute("hidden"),e?.removeAttribute("hidden")):(t?.setAttribute("hidden",!0),i?.setAttribute("hidden",!0),n?.setAttribute("hidden",!0),e?.setAttribute("hidden",!0))}$(document).ready(function(t){var e,i=window.location.href.slice(window.location.href.indexOf("?")+1).split("/").pop();if(void 0!==i&&""!==i||(i="home.aspx"),t("#clickToTextHeaderEvent").click(function(){this.hasAttribute("data-dealerontrack-type")||DealerOnTrack.event("Click-to-Text",i,"Header")}),t("a[href^='tel']").each(function(){t(this).click(function(){"clickToTextHeaderEvent"!=this.id&&"clickToCallHeaderEvent"!=this.id&&(this.hasAttribute("data-dealerontrack-type")||DealerOnTrack.event("Click-to-Call",i,"Header"),trackerHook(277))})}),t("#mobileDirectionsButtonEvent").click(function(){""==i&&(i="Home"),DealerOnTrack.event("Get-Directions Header",i,"Get-Directions"),trackerHook(276)}),jQuery.browser.mobile){navigator.userAgent.match(/IEMobile\/10\.0/)&&((e=document.createElement("style")).appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(e)),t(".carousel-inner").find(".hideOnMobile").each(function(){t(this).remove()}),t(".carousel-inner").find(".item:first").addClass("active"),removeHiddenAndReindexIndicators("hideOnMobile"),addSlideNumber(),t(".carousel-indicators li:first").addClass("active"),t(".tab-content").find("[id^='serviceSpecials']").each(function(){t(this).removeAttr("onclick")}),t("#serviceSpecialsHome").find(".serviceSpecials").each(function(){t(this).removeAttr("onclick")}),t("#searchRefineModal").find("[id^='collapse']").each(function(){t(this).on("shown.bs.collapse",function(e){e="#searchRefineModal a[href='#"+e.target.id+"']";window.location.hash=t(e).attr("id")})}),t(".srpVehicleIncentives a").each(function(){t(this).unbind("click").attr("target","_blank")}),t(".srpMobileIncentives a").each(function(){t(this).unbind("click").attr("target","_blank")}),t("#chatIn").find(".hideOnMobile").remove();try{getMobileChatScriptsDlrOn()}catch(e){console.log("Error Loading Mobile Chat Scripts, Platform Mobile Function Missing")}}else{t(".carousel-inner").find(".hideOnDesktop").each(function(){t(this).remove()}),t(".carousel-inner").find(".item:first").addClass("active"),removeHiddenAndReindexIndicators("hideOnDesktop"),addSlideNumber(),t(".carousel-indicators li:first").addClass("active"),t("a[href^='tel']:not(.phone-alert)").each(function(){t(this).removeAttr("href").removeAttr("onclick")}),t("a[href^='tel'].phone-alert").each(function(){t(this).click(function(e){e.preventDefault();e=t(this).attr("href");alert(e.substring(4,e.length))})}),t("#chatIn").find(".hideOnDesktop").remove();try{getDesktopChatScriptsDlrOn()}catch(e){console.log("Error Loading Chat Scripts, Platform Desktop Function Missing")}}}),$("#modal_submit").click(function(){var e=$("#modal_phone").val();if(10!=(e=e.replace(/\D/gi,"")).length)return window.alert("Invalid Phone Number"),$("#modal_phone").val(""),!1;var t=$("#specialSendToMobileName").val();DealerOnTrack.event("Send-to-Mobile",e,t);$("#SMSdealerName").text();var i=window.location.href;""==i.split("/").pop()&&(i+="service-parts-specials.aspx"),sendSms(e,i=i.replace(/\#/gi,""),t)});
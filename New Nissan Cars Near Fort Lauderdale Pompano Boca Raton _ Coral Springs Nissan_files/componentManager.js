"use strict";dealeron.runtime.define(["system/logManager","system/text","system/linq","system/guid"],(e,l,t,m)=>{const d="is-initialized",u="component-id";let c=e.getLogger("Component Loader");return new class{constructor(e,t){this._rootElement=e,this._config=t,this._controllers={},t.listenToHashChange&&window.addEventListener("hashchange",e=>this.scan())}getController(e){e=e.getAttribute("component-id");return e&&this._controllers[e]||null}bootstrap(t){if(t.getAttribute(d))throw new Error("Component Already Initialized");let r=t.getAttribute(u),a=(r||(r=m.createGuid(),t.setAttribute(u,r.toString())),t.tagName.toUpperCase());t.style.display="block";var e=l.from("controllers/{0}Controller",l.camelCase(a));let o={};var s=t.querySelector("script[type='application/json'][role='config']");if(s&&(o=JSON.parse(s.innerHTML),t.removeChild(s)),"DO-CTA"==a)for(var i of t.attributes)o[i.name]=l.parseType(i.value);else for(var n of t.attributes)o[l.camelCase(n.name)]=l.parseType(n.value);c.debug("Starting component {0}",a),t.setAttribute(d,!0),dealeron.runtime.require([e],e=>{e=new e(t,o);e.start&&e.start(),this._controllers[r]=e},e=>c.error("Unable to load {0}: {1}",a,e.message))}shouldInitialize(e){var t=e.tagName.toLowerCase();return-1!==e.tagName.indexOf("-")&&!e.getAttribute(d)&&-1===this.excludedElements().indexOf(t)&&!t.startsWith("ami-")&&!t.startsWith("apex-")}scan(){c.debug("Scanning for components");var e=this._rootElement.querySelectorAll("*");t.Enumerable.from(e).where(e=>this.shouldInitialize(e)).forEach(e=>this.bootstrap(e))}excludedElements(){return["payment-estimator-plus-rc","disclaimer-modal","t-modal","payment-estimator","load-wrapper","tool-tip","estimator-offers-panel","estimator-rebates-panel","estimator-form-panel","jquery-slider","currency-input","estimator-summary-fields","estimator-breakdown","payment-estimator-bottom","offer-details","rebate-details","lead-form","dealer-information-and-hours","dealer-contact-form","t-input","single-disclaimer-modal","dg-shopping-cart","estimator-offers-carousel","estimator-nav-arrow","estimator-offer-tile","pagination-dots","estimator-list","router-outlet","dg-save-heart","dealeron-map"]}}(window.document,{listenToHashChange:!0})});
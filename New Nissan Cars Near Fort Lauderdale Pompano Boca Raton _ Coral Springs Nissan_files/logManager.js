"use strict";dealeron.runtime.define(["system/text"],n=>{const t={DEBUG:0,INFO:1,WARN:2,ERROR:3},e=0,o=1;class s{constructor(e,t){this._appenders=e||[],this._logs={},this.logLevel=t;for(let e=0;e<this._appenders.length;e++){var o=this._appenders[e];o.append("-------------------------------"),o.append(n.from("Page: {0}",window.location.href)),o.append(n.from("DealerId: {0}",window.DlronGlobal_DealerId)),o.append(n.from("Browser: {0}",window.navigator.userAgent)),o.append("-------------------------------")}}getLogger(e){return this._logs[e]||(this._logs[e]=new i(e,this._appenders,this.logLevel))}openLog(){var e=new Blob([this._appenders[0].toString()],{type:"text/plain"});window.open(URL.createObjectURL(e))}printLog(){console.log(this._appenders[0].toString())}}class r{constructor(){}append(e){this._text||(this._text=""),this._text+=(e||"")+"\n"}toString(){return this._text}}class i{constructor(e,t,o){this._logType=e,this._appenders=t,this._level=o}debug(e){e=n.from("{0} : [{1}] DEBUG: {2}",l(),this._logType,n.from.apply(this,arguments)),this._append(e),this._level<=t.DEBUG&&this._print(e,"color: grey;")}info(e){e=n.from("{0} : [{1}] INFO: {2}",l(),this._logType,n.from.apply(this,arguments)),this._append(e),this._level<=t.INFO&&this._print(e,"color: blue;")}warn(e){e=n.from("{0} : [{1}] WARN: {2}",l(),this._logType,n.from.apply(this,arguments)),this._append(e),this._level<=t.WARN&&this._print(e,"color: orange;")}error(e){e=n.from("{0} : [{1}] ERROR: {2}",l(),this._logType,n.from.apply(this,arguments)),this._append(e),this._level<=t.ERROR&&this._print(e,"color: red;")}_append(t){for(let e=0;e<this._appenders.length;e++)this._appenders[e].append(t)}_print(e,t){console&&(document.documentMode?console.log(e):console.log("%c"+e,t))}}function l(){var e=new Date;return n.from("{0}:{1}:{2}.{3}",p(e.getUTCHours(),2),p(e.getUTCMinutes(),2),p(e.getUTCSeconds(),2),p(e.getUTCMilliseconds(),3))}function p(e,t){return("00000000000"+e.toString()).slice(-t)}return(/\.ad\.dealeron\.com/.test(window.location.host)||"localhost"===window.location.host?e:o)===e?new s([new class{constructor(){this._storageKey="DealerOnEventLog"}append(e){try{var t=(window.localStorage.getItem(this._storageKey)||"").split("\n");1e3<t.length&&t.splice(0,t.length-1e3),t.push(e||""),window.localStorage.setItem(this._storageKey,t.join("\n"))}catch(e){console.log("Unable to append.",e)}}toString(){return window.localStorage.getItem(this._storageKey)}},new r],t.DEBUG):new s([new r],t.ERROR)});